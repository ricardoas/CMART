<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
  <head>
    <meta http-equiv="content-type" content="text/html;
      charset=ISO-8859-1">
    <title>C-MART</title>
    <link rel="stylesheet" type="text/css"
      href="css/jquery-ui-1.8.11.custom.css" media="screen">
    <script src="js/jquery-1.6.3.min.js" type="text/javascript"></script>
    <script src="js/jquery-ui-1.8.11.custom.min.js" type="text/javascript"></script>
    <link rel="stylesheet" type="text/css"
      href="stylesheets/foundation.css">
  </head>
  <body>
    <div class="container">
      <div class="row">
        <div class="eight columns"> <a class="mainlogo-link"
            href="http://theone.ece.cmu.edu/wordpress" title="theONE"><img
              class="mainlogo-img" src="images/banner.png" alt="theONE"
              width="450"></a> </div>
        <div class="four columns"> <a class="ece-logo"
            href="http://www.ece.cmu.edu" title="cmuECE"><img
              class="ece-logo" src="images/logo-ece.jpg" alt="cmuECE"
              align="right" width="200"></a> </div>
      </div>
    </div>
    <div class="container">
      <div class="row">
        <div class="twelve columns">
          <center>
            <h1>C-MART</h1>
            <h3>Benchmarking the Cloud</h3>
          </center>
        </div>
      </div>
    </div>
    <br>
    <br>
    <div class="container">
      <div class="row">
        <div class="three columns"><ul style="list-style-image: url(images/orbit/bullets.jpg)">
      <li>Overview</li>
      <ul style="list-style-image: url(images/orbit/bullets.jpg)">
        <li><a href="cmart_overview.html">C-MART overview</a></li>
        <li><a href="http://theone.ece.cmu.edu/cmart-1/">C-MART online</a></li>
		<li><a href="pagedescriptions.html">Web Page Descriptions</a></li>
		<li><a href="C-MART.11.26.2012.pdf">Presentation Slides</a></li>
		<li><a href="IEEE_C-MART.pdf">IEEE TPDS Paper</a></li>
      </ul>

	  <li>Virtual Machine Configuration</li>
      <ul style="list-style-image: url(images/orbit/bullets.jpg)">
        <li><a href="initial_config.html">Initial Configuration</a></li>
      </ul>
      <li>Populate Data</li>
      <ul style="list-style-image: url(images/orbit/bullets.jpg)">
        <li><a href="populate.html">Populate quick start</a></li>
        <li><a href="populate_details.html">Populate details</a></li>
        <li><a href="populate_distributions.html">Populate distributions</a></li>
        <li><a href="populate_additional.html">Additional operations</a></li>
      </ul>
	  <li>Client Generator</li>
      <ul style="list-style-image: url(images/orbit/bullets.jpg)">
        <li><a href="client.html">Client quick start</a></li>
        <li><a href="client_details.html">Client Generator details</a></li>
		<li><a href="CG_output.html">Output File Description</a></li>
		<li><a href="client_repeat.html">Experiment Repeatability</a></li>
      </ul></div>
        <div class="nine columns">
          <center>
            <h4>Populate</h4>
          </center>
          The C-MART data populator code is contained in
          cmart/populator. The populator is configured in
          cmartconfig.txt. The values defined in cmartconfig.txt are
          used to populate C-MART's database, search engine and images.<br>
          <br>
          <h5><span style="font-weight: bold;">Quick start</span></h5>
          <br style="font-weight: bold;">
          <span style="font-weight: bold;"> 1. Configure 'database_type'</span><br>
          <br>
          <table style=" text-align: left; width: 80%; margin-left:
            auto; margin-right: auto; background-color: rgb(221, 221,
            221);" border="2" cellpadding="2" cellspacing="2">
            <tbody>
              <tr>
                <td style=" vertical-align: top;"># can be
                  'myisam','innodb', 'cassandra'<br>
                  database_type = myisam<br>
                </td>
              </tr>
            </tbody>
          </table>
          If the database type is innodb or cassandra, Solr must also be
          enabled to allow for searching of items. MyISAM will use a
          FULLTEXT index on the SQL database by default, or use Solr
          search server if enabled.<br>
          <br>
          <span style="font-weight: bold;">2. Configure database
            credentials</span><br>
          <br>
          <table style=" text-align: left; width: 80%; margin-left:
            auto; margin-right: auto; background-color: rgb(221, 221,
            221);" border="2" cellpadding="2" cellspacing="2">
            <tbody>
              <tr>
                <td style=" vertical-align: top;"> my_database_url =
                  jdbc:mysql://10.1.1.1/cmart<br>
                  my_database_username = cmart<br>
                  my_database_password = Cm4rt!<br>
                  my_database_driver = com.mysql.jdbc.Driver<br>
                </td>
              </tr>
            </tbody>
          </table>
          The cmart user must be able to add/drop tables, create
          indexes, and insert, delete, update etc table entries.<br>
          <br>
          <span style="font-weight: bold;">3. Configure data size</span><br>
          <br>
          <table style=" text-align: left; width: 80%; margin-left:
            auto; margin-right: auto; background-color: rgb(221, 221,
            221);" border="2" cellpadding="2" cellspacing="2">
            <tbody>
              <tr>
                <td style=" vertical-align: top;"> populate_no_of_states
                  = -1<br>
                  populate_no_of_categories = -1<br>
                  <br>
                  # roughly 10GB of database data<br>
                  populate_no_of_users = 15000000<br>
                  populate_no_of_items = 1500000<br>
                  populate_no_of_old_items = 3000000<br>
                  <br>
                  # roughly 1GB of database data<br>
                  populate_no_of_users = 1500000<br>
                  populate_no_of_items = 150000<br>
                  populate_no_of_old_items = 300000<br>
                </td>
              </tr>
            </tbody>
          </table>
          The largest factor controlling the size of the database is the
          number of users, currently listed items and previously (old)
          listed items. The number of states or categories inserted in
          to the database can be limited, or all items from the category
          or states files inserted by defining their value as -1. E.g.
          for 1000 categories, populate_no_of_categories = 1000.<br>
          <br>
          <span style="font-weight: bold;">4. Configure the input files
            base path </span><br>
          <br>
          <table style=" text-align: left; width: 80%; margin-left:
            auto; margin-right: auto; background-color: rgb(221, 221,
            221);" border="2" cellpadding="2" cellspacing="2">
            <tbody>
              <tr>
                <td style=" vertical-align: top;"> populate_base_path =
                  C:\\cmart\\populator\\<br>
                  <br>
                  # or<br>
                  <br>
                  populate_base_path = /cmart/populator/<br>
                </td>
              </tr>
            </tbody>
          </table>
          This path tells the populator where all of the input
          distribution files are located.<br>
          <br>
          <span style="font-weight: bold;">5. Configure the image input
            and output folders </span><br>
          <br>
          <table style=" text-align: left; width: 80%; margin-left:
            auto; margin-right: auto; background-color: rgb(221, 221,
            221);" border="2" cellpadding="2" cellspacing="2">
            <tbody>
              <tr>
                <td style=" vertical-align: top;">
                  populate_in_image_path = /cmart/populator/images/<br>
                  populate_out_image_path =
                  /usr/share/tomcat7/webapps/img<br>
                </td>
              </tr>
            </tbody>
          </table>
          C-MART will create the files that users would have uploaded
          with their items. As real users would upload unique pictures,
          these images are not de-duplicated. WARNING: The size of the
          image storage can become very large. To reduce this size you
          could either turn image creation off entirely, or reduce the
          number of images created by changing the distribution in the
          numHeaderImages.csv file. The images must be located such that
          the C-MART can address them via win_local_image_dir or
          linux_local_image_dir to enable new images to be uploaded.<br>
          <br>
          <br>
          <span style="font-weight: bold;">6. Run the populator </span><br>
          <br>
          <table style=" text-align: left; width: 80%; margin-left:
            auto; margin-right: auto; background-color: rgb(221, 221,
            221);" border="2" cellpadding="2" cellspacing="2">
            <tbody>
              <tr>
                <td style=" vertical-align: top;"> java -jar
                  populator.jar -config c:\cmart\cmartconfig.txt<br>
                </td>
              </tr>
            </tbody>
          </table>
          The C-MART populator will periodically output its progress, or
          any error messages that it may encounter. The program will
          automatically finish once the database has been populated.<br>
          <br>
          <h5>Somewhat optional</h5>
          <br>
          <span style="font-weight: bold;">7. Configure Solr</span><br>
          <br>
          <table style=" text-align: left; width: 80%; margin-left:
            auto; margin-right: auto; background-color: rgb(221, 221,
            221);" border="2" cellpadding="2" cellspacing="2">
            <tbody>
              <tr>
                <td style=" vertical-align: top;"> solr_enabled = 1<br>
                  solr_url = http://10.1.1.2:8983/solr<br>
                  solr_max_conns_per_host = 200<br>
                </td>
              </tr>
            </tbody>
          </table>
          If the database chosen does not support text searching, or to
          improve performance/offload traffic from the MyISAM database,
          a Solr server must be configured. The solr_enabled flag must
          be set to '1' or the other values entered will be ignored.<br>
          <br>
          <!--
          <span style="font-weight: bold;">8. Configure NFS or GSF</span><br>
          <br>
          <table style=" text-align: left; width: 80%; margin-left:
            auto; margin-right: auto; background-color: rgb(221, 221,
            221);" border="2" cellpadding="2" cellspacing="2">
            <tbody>
              <tr>
                <td style=" vertical-align: top;"> <br>
                </td>
              </tr>
            </tbody>
          </table>
          As the number of images becomes very large it is likely the
          images will need to be stored on a dedicated or distributed
          storage system. Additionally, as multiple application servers
          will need to accesses the images they must be stored on shared
          storage.<br>
          &nbsp;<br>

--> </div>
      </div>
    </div>
    <div class="container">
      <div class="row">
        <div class="twelve columns">
          <center> &copy; 2012 TheONE Network Research Group </center>
        </div>
      </div>
    </div>
  </body>
</html>
